@page "/"
@using chat_ui.Components

<PageTitle>Blazor UI Chat Sample</PageTitle>

<h3>Public</h3>
<div class="chatContainer">
    @foreach (var msg in openChat.MessagesReceived)
    {
        <div class="message received">@msg</div>
    }
    @foreach (var msg in openChat.MessagesSent)
    {
        <div class="message sent">@msg</div>
    }
</div>

<div class="inputContainer">
    <div class="inputSection">
        <input @bind="openChat.Message" />
        <button @onclick="openChat.SendMessage">Send</button>
        <br>
        <br>
        <button class="sosButton" @onclick="showModal">SOS</button>
    </div>
</div>

<SosModal IsVisible="isVisible" HideModal="hideModal" />

@code
{
    private Chat openChat = new Chat(); // Create an chat object 
    private bool isVisible = false;

    private void showModal()
    {
        isVisible = true;
    }
    private void hideModal()
    {
        isVisible = false;
    }
}
